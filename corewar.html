<!DOCTYPE html>
<html>
	<head>
        <meta charset="utf-8">
		<title>Browser Corewar</title>
		<script src="corewar.js" type="text/javascript"></script>
        <script type="text/javascript">
            var width = 50;
            var height = 50;

            var mars = new Mars(width * height);
            var mars_display;

            function onload() {
                mars_display = new MarsDisplay(mars, "core", width, height);
            }

            function onstart() {
                try {
                    var p = mars.compile_lines(document.getElementById("code1").value);
                } catch (e) {
                    alert("program #1: " + e);
                    return;
                }
                mars.spawn(p);

                try {
                    var p = mars.compile_lines(document.getElementById("code2").value);
                } catch (e) {
                    alert("program #2: " + e);
                    return;
                }
                mars.spawn(p);
                mars_display.run(4);
            }
        </script>
		<link href="corewar.css" rel="stylesheet" type="text/css">
	</head>
	<body onload="onload()">
		<div id="core"></div>
        <textarea id="code1"></textarea>
        <textarea id="code2"></textarea>
        <button id="start" onclick="onstart()">Start</button>
	</body>
</html>
